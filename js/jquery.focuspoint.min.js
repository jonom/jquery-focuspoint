/**
 * jQuery FocusPoint; version: 1.1.3
 * Author: http://jonathonmenz.com
 * Source: https://github.com/jonom/jquery-focuspoint
 * Copyright (c) 2014 J. Menz; MIT License
 * @preserve
 */
!function(t){var n={reCalcOnWindowResize:!0,throttleDuration:17},i=function(n,i){t("<img />").one("load",function(){i(null,{width:this.width,height:this.height})}).attr("src",n)},o=function(t,n,i,o,a){var r=Math.floor(n/2),u=(o+1)/2,e=Math.floor(i/t),f=Math.floor(u*e);a&&(f=e-f);var c=f-r,s=e-f,h=n-r;return s<h&&(c-=h-s),c<0&&(c=0),-100*c/n+"%"},a=function(t,n){var r=t.data("imageW"),u=t.data("imageH"),e=t.data("imageSrc");if(!r&&!u&&!e)return function(t,n){var o=t.find("img").attr("src");t.data("imageSrc",o),i(o,function(i,o){t.data({imageW:o.width,imageH:o.height}),a(t,n)})}(t,n);var f=t.width(),c=t.height(),s=parseFloat(t.data("focusX")),h=parseFloat(t.data("focusY")),d=t.find("img").first(),l=0,w=0;if(!(f>0&&c>0&&r>0&&u>0))return!1;var g=r/f,m=u/c;d.css({"max-width":"","max-height":""}),r>f&&u>c&&d.css(g>m?"max-height":"max-width","100%"),g>m?l=o(m,f,r,s):g<m&&(w=o(g,c,u,h,!0)),d.css({top:w,left:l}),n&&n()},r=t(window),u=function(t,n){var i,o,u,e=n.throttleDuration?(i=function(){a(t,n.onFocus)},o=n.throttleDuration,u=!1,function(){var t=Array.prototype.slice.call(arguments,0);if(u)return!1;u=!0,setTimeout(function(){u=!1,i.apply(null,t)},o)}):function(){a(t,n.onFocus)},f=!1;return a(t,n.onFocus),{adjustFocus:function(){return a(t,n.onFocus)},windowOn:function(){if(!f)return r.on("resize",e),f=!0},windowOff:function(){if(f)return r.off("resize",e),f=!1,!0}}};t.fn.focusPoint=function(i){if("string"==typeof i)return this.each(function(){t(this).data("focusPoint")[i]()});var o=t.extend({},n,i);return this.each(function(){var n=t(this),i=u(n,o);n.data("focusPoint")&&n.data("focusPoint").windowOff(),n.data("focusPoint",i),o.reCalcOnWindowResize&&i.windowOn()})},t.fn.adjustFocus=function(){return this.each(function(){a(t(this))})}}(jQuery);